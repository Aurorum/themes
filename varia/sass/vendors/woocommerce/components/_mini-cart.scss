/**
 * Mini-cart
 */

body[class*="woocommerce"] #page { // adding #page here to override default wc styles without !important

	.wc-block-grid__product-add-to-cart .added_to_cart {
		display: inline-block;
		text-decoration: none;
	}

	.main-navigation {

		.woocommerce-cart-link {

			text-decoration: none;
			line-height: 1;

			& > *:not(:last-child) {
				margin-right: #{0.25 * map-deep-get($config-global, "spacing", "horizontal")};
			}

			.woocommerce-cart-subtotal {
				color: #{map-deep-get($config-woocommerce, "mini-cart", "color", "subtotal")};
			}

			.woocommerce-cart-count {
				color: #{map-deep-get($config-woocommerce, "mini-cart", "color", "count")};
				font-weight: normal;
			}

			.svg-icon {
				float: left;
				height: #{map-deep-get($config-header, "main-nav", "font", "size")};
				width: #{map-deep-get($config-header, "main-nav", "font", "size")};
			}

			& + .sub-menu {
				padding: 0 #{map-deep-get($config-header, "main-nav", "link-padding")};
			}

			@include media(mobile) {
				& + .sub-menu {
					padding: 0;
				}
			}
		}

		.woocommerce-cart-widget {
			background-color: map-deep-get($config-woocommerce, "mini-cart", "color", "background");
			color: map-deep-get($config-woocommerce, "mini-cart", "color", "text");
			max-width: 100%;
			padding: #{0.5 * map-deep-get($config-header, "main-nav", "link-padding")} 0;

			@include media(mobile) {
				max-width: #{20 * map-deep-get($config-global, "spacing", "horizontal")};
				padding: #{map-deep-get($config-header, "main-nav", "link-padding")};
			}

			.woocommerce.widget_shopping_cart .cart_list {
				border-bottom: 1px solid map-deep-get($config-woocommerce, "mini-cart", "color", "border");
				li {
					border-top: 1px solid map-deep-get($config-woocommerce, "mini-cart", "color", "border");
				}
			}

			.woocommerce-mini-cart__total {
				text-align: right;
			}

			.woocommerce-mini-cart__buttons {
				text-align: right;

				a {
					clear: right;
					color: map-deep-get($config-woocommerce, "mini-cart", "button", "color");
					background-color: map-deep-get($config-woocommerce, "mini-cart", "button", "background-color");
					margin: 0;
					float: right;

					// Default WooCommerce View Cart/Checkout buttons
					&:first-child:nth-last-child(2),
					&:first-child:nth-last-child(2) ~ a {
						clear: inherit;
						float: inherit;
						margin-bottom: 0;

						&:not(:last-child) {
							margin-right: #{0.5 * map-deep-get($config-global, "spacing", "horizontal")};
						}
					}

					&:not(:last-child) {
						margin-bottom: #{0.5 * map-deep-get($config-global, "spacing", "horizontal")};
					}

					&.wcppec-cart-widget-button {
						display: inline-block;
					}
				}
			}

			p.buttons.wcppec-cart-widget-spb {
				padding: 0;
			}
		}

		ul.cart_list li a,
		ul.product_list_widget li a {
			padding: 0;
		}

		ul.cart_list li .quantity,
		ul.product_list_widget li .quantity,
		ul.cart_list li a:not(.remove),
		ul.product_list_widget li a:not(.remove),
		.woocommerce-mini-cart__total {
			@include font-family( map-deep-get($config-header, "main-nav", "font", "family") );
			font-size: #{map-deep-get($config-global, "font", "size", "base")};
		}
	}
}

.woocommerce-cart #page .woocommerce-menu-item .sub-menu,
.woocommerce-checkout #page .woocommerce-menu-item .sub-menu {
	display: none;
}
